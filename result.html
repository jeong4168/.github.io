<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>태양광 발전량 계산 결과</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
    background: #f8fafc;
    margin: 0;
    padding: 30px;
  }
  .container {
    max-width: 1400px; /* 전체 컨테이너 너비 확장 */
    margin: auto;
    /* ✅ 핵심 변경: 플렉스 컨테이너로 설정 */
    display: flex;
    flex-wrap: wrap; /* 작은 화면에서 줄바꿈 허용 */
    gap: 30px; /* 요소 간 간격 */
  }

  /* ✅ 요약표 (너비 조정 및 위치 변경) */
  .summary-box {
    background:#f5f7ff;
    border:1px solid #d6dbff;
    border-radius:10px;
    padding:14px 20px;
    margin:0; /* 기존 margin 제거 */
    max-width: 400px; /* 너비 감소 (그래프 대비 좁게) */
    width: 100%; /* 유연한 너비 설정 */
    font-size:14px;
    box-shadow:0 2px 6px rgba(0,0,0,0.04);
    /* ✅ 핵심 변경: 그래프 컨테이너와 나란히 배치될 때 공간 차지 비율 */
    flex-grow: 0; /* 커지는 것을 방지 */
    flex-shrink: 0; /* 줄어드는 것을 방지 */
  }
  .summary-box h2 {
    text-align:center;
    color:#1d3557;
    margin-bottom:10px;
    font-size:18px;
  }
  .summary-box table { width:100%; border-collapse:collapse; }
  .summary-box th {
    background:#e8ecff;
    color:#1d3557;
    text-align:left;
    padding:6px 10px;
    border-bottom:1px solid #dce2ff;
    font-weight:600;
    width:55%;
  }
  .summary-box td {
    text-align:right;
    padding:6px 10px;
    border-bottom:1px solid #edf0ff;
    color:#333;
    font-weight:500;
  }
  .summary-box tr:last-child th,
  .summary-box tr:last-child td { border-bottom:none; }

  /* ✅ 그래프 영역 — 남은 공간 전체 사용 */
  .chart-container {
    display: flex;
    flex-direction: column;
    gap: 25px;
    flex-grow: 1; /* ✅ 핵심 변경: 남은 공간 전체를 차지하도록 설정 */
    min-width: 500px; /* 그래프가 너무 작아지는 것을 방지 */
  }
  .chart-card {
    background: white;
    border-radius: 14px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    /* 카드 자체는 내용 크기에 맞게 유지 (높이 자동) */
  }
  .chart-card h3 {
    text-align:center;
    color:#1d3557;
    font-size:16px;
    margin-bottom:10px;
  }
  /* 캔버스를 뷰포트 높이 기준으로 설정 — 반응형 (기존 유지) */
  .chart-card canvas {
    height: 60vh !important;
    max-height: 900px !important;
    width: 100% !important;
  }

  /* ✅ 모바일 대응: 요약표와 그래프를 세로로 배열 */
  @media (max-width: 850px) {
    .container {
      flex-direction: column;
      gap: 20px;
    }
    .summary-box {
      max-width: 100%; /* 모바일에서는 전체 너비 사용 */
      margin: 0 auto;
    }
    .chart-card canvas { height: 50vh !important; }
  }
</style>
</head>
<body>
<div class="container">
  <div class="summary-box">
    <h2>계산 요약</h2>
    <table id="summaryTable"></table>
  </div>

  <div class="chart-container">
    <div class="chart-card">
      <h3>월별 발전량 (kWh)</h3>
      <canvas id="monthlyChart"></canvas>
    </div>

    <div class="chart-card">
      <h3>월별 매출액 (원)</h3>
      <canvas id="revenueChart"></canvas>
    </div>

    <div class="chart-card">
      <h3>20년 누적 수익 (원)</h3>
      <canvas id="accumChart"></canvas>
    </div>
  </div>
</div>

<script>
// ... (기존 스크립트 내용)
</script>
</body>
</html>
